var SIWCPublic;!function(t){var e=function(){function t(t){var e=this,i=t(".mabel-siwc-img-wrapper");i.length&&(t(document).on("click",function(e){t(e.target).closest(".mb-siwc-popup").length||t('[data-open="click"]').removeClass("siwc-active")}),i.each(function(i,a){var s=t(a),o=s.data("sw-open"),n=s.data("sw-size"),c='<div class="mb-siwc-popup-inner"><div class="siwc-thumb-wrapper"></div><div class="siwc-inner-text"><h1 class="siwc-text"></h1><h2 class="siwc-text"></h2><a target="_blank" href="#">'+s.data("sw-text")+"</a></div></div>";s.data("sw-tags").forEach(function(i){var a=t('<span class="mb-siwc-tag"><i class="'+s.data("sw-icon")+'"></i></span>').css({top:i.posY+"%",left:i.posX+"%"}).on("hover"==o?"mouseenter":"click",function(t){t.stopPropagation(),"hover"==o&&clearTimeout(p);var e=s.find(".mb-siwc-tag");a.toggleClass("active"),e.not(a).removeClass("active"),e.not(a).next().removeClass("siwc-active"),a.next().toggleClass("siwc-active")}).appendTo(s),r=t(c);i.thumb&&r.find(".siwc-thumb-wrapper").css("backgroundImage","url('"+i.thumb+"')"),r.find("h2").html(i.price),r.find("h1").html(i.title),"cart"==s.data("sw-action")&&i.product_id?r.find("a").on("click",function(e){var a=t(e.currentTarget),s=a.html();e.preventDefault(),a.addClass("siwc-spin"),t.get(window.siData.site_url+"?add-to-cart="+i.product_id,function(){a.removeClass("siwc-spin").html("&check;"),setTimeout(function(){a.html(s)},999),t(document.body).trigger("wc_fragment_refresh")})}):r.find("a").attr("href",i.link);var l=t('<div class="mb-siwc-popup" data-open="'+o+'">');if("hover"==o){var p,u=!1;a.on("mouseleave",function(){clearTimeout(p),setTimeout(function(){u||(l.removeClass("siwc-active"),a.removeClass("active"))},350)}),l.on("mouseenter",function(){u=!0}).on("mouseleave",function(){u=!1,l.removeClass("siwc-active"),a.removeClass("active")})}i.thumb||l.addClass("siwc-no-thumb");l.append(r).appendTo(s).css({top:i.posY+"%",left:i.posX+"%",marginLeft:-l.width()/2,marginTop:n/2+15});var m=e.getPopupPosition(i.posX,i.posY,l,s);if("bottom"!=m)switch(m){case"top":l.css("marginTop",-1*(l.height()+15+n/2));break;case"top left":l.css({marginTop:-1*(l.height()-10),marginLeft:-1*(l.width()+15+n/2)});break;case"top right":l.css({marginTop:-1*(l.height()-10),marginLeft:n/2+15});break;case"bottom left":l.css({marginTop:-10,marginLeft:-1*(l.width()+15+n/2)});break;case"bottom right":l.css({marginTop:-10,marginLeft:n/2+15})}l.addClass("mb-siwc-"+m.replace(" ","-"))})}))}return t.prototype.isMobile=function(){return jQuery(".si-mobile-check").is(":visible")},t.prototype.getPopupPosition=function(t,e,i,a){void 0===a&&(a=null),null==a&&(a=jQuery(document.body));var s=i.height(),o=i.width(),n=a.height(),c=a.width(),r=s/n*100,l=o/c*100,p=e+r>100,u=t-l<0,m=t+l>100,d=p?"top":"bottom";return this.isMobile()&&(d="top"),u&&(d+=" right"),m&&(d+=" left"),d},t}();t.Main=e}(SIWCPublic||(SIWCPublic={})),jQuery(window).on("load",function(){new SIWCPublic.Main(jQuery)});